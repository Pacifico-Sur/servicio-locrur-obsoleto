<script type="text/javascript">
  function report() {
  let region = document.querySelector("body"); // whole screen
  html2canvas(region, {
    onrendered: function(canvas) {
      let pngUrl = canvas.toDataURL(); // png in dataURL format
      let img = document.querySelector(".screen");
      img.src = pngUrl; 

      // here you can allow user to set bug-region
      // and send it with 'pngUrl' to server
    },
  });
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
<div>Screenshot tester</div>
<button onclick="report()">Take screenshot</button>

<button id="save_image_locally">save imh</button>

<div class="container">
  <img width="75%" class="screen">
</div>


<div style="position: absolute; opacity: 0.0;">
    <div id="tempImageThumbnail" style="background-color:red">fdsafdsa</div>
</div>
<div>
    <div id="tempImageThumbnailss" style="background-color:white">aaaaaaaaa</div>
</div>
<script src="js-geo/jquery-3.6.0.min.js"></script>
<script type="text/javascript">
  var tempImageThumb = $('#tempImageThumbnail');
  tempImageThumb.append("<div>some text</div>");

  html2canvas([tempImageThumb.get(0)], {
      onrendered : function(canvas) {
           document.body.appendChild(canvas);
      }
  });
  </script>
  <script>

    var tempImageThumbnailss = $('#tempImageThumbnailss');
    tempImageThumbnailss.append("<div>nelson</div>");

  $('#save_image_locally').click(function(){
    html2canvas([tempImageThumbnailss.get(0)], 
    {
      onrendered: function (canvas) {
        document.body.appendChild(canvas);
        var a = document.createElement('a');
        // toDataURL defaults to png, so we need to request a jpeg, then convert for file download.
        a.href = canvas.toDataURL("image/jpeg").replace("image/jpeg", "image/octet-stream");
        a.download = 'somefilename.jpg';
        a.click();
      }
    });
  });

</script>